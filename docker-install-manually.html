<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF" data-link-color="#307FFF" data-content-max-width="1350" data-resizable-sidebar="true" data-sidebar-width="300"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-09-11T18:06:02.673393401"><title>Install Docker Manually | Mind and Hand</title><script type="application/json" id="virtual-toc-data">[{"id":"docker","level":0,"title":"下载docker的二进制包","anchor":"#docker"},{"id":"x86-64-docker-27-3-1-tgz","level":0,"title":"以 x86_64/docker-27.3.1.tgz 为例","anchor":"#x86-64-docker-27-3-1-tgz"},{"id":"docker-27-3-1-tgz","level":1,"title":"下载 docker-27.3.1.tgz","anchor":"#docker-27-3-1-tgz"},{"id":"z4vmfse_18","level":1,"title":"解压并移动","anchor":"#z4vmfse_18"},{"id":"linux-group","level":0,"title":"linux新增group","anchor":"#linux-group"},{"id":"systemd","level":0,"title":"配置 systemd","anchor":"#systemd"},{"id":"docker-service","level":1,"title":"docker.service","anchor":"#docker-service"},{"id":"docker-socket","level":1,"title":"docker.socket","anchor":"#docker-socket"},{"id":"containerd-servcie","level":1,"title":"containerd.servcie","anchor":"#containerd-servcie"},{"id":"z4vmfse_9","level":0,"title":"启动","anchor":"#z4vmfse_9"},{"id":"systemd-github","level":0,"title":"systemd文件github参考","anchor":"#systemd-github"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link href="static/custom.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Install Docker Manually | Mind and Hand"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Mind and Hand Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/docker-install-manually.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Install Docker Manually | Mind and Hand"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/docker-install-manually.html#webpage",
    "url": "writerside-documentation/docker-install-manually.html",
    "name": "Install Docker Manually | Mind and Hand",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Mind and Hand Help"
}</script><!-- End Schema.org --></head><body data-id="docker-install-manually" data-main-title="Install Docker Manually" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="docker.md|Docker"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Mind and Hand  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="docker-install-manually" id="docker-install-manually.md">Install Docker Manually</h1><aside class="prompt" data-type="tip" data-title="" id="z4vmfse_4"><p id="z4vmfse_11">手动安装docker</p></aside><section class="chapter"><h2 id="docker" data-toc="docker">下载docker的二进制包</h2><p id="z4vmfse_12">https://download.docker.com/linux/static/stable/</p><p id="z4vmfse_13">一般下载自己需要的 <code class="code" id="z4vmfse_14">aarch64/</code> 或者 <code class="code" id="z4vmfse_15">x86_64/</code></p></section><section class="chapter"><h2 id="x86-64-docker-27-3-1-tgz" data-toc="x86-64-docker-27-3-1-tgz">以 <code class="code" id="z4vmfse_19">x86_64/docker-27.3.1.tgz</code> 为例</h2><section class="chapter"><h3 id="docker-27-3-1-tgz" data-toc="docker-27-3-1-tgz">下载 <code class="code" id="z4vmfse_22">docker-27.3.1.tgz</code></h3><div class="tabs" id="z4vmfse_21" data-anchors="[z4vmfse_23,z4vmfse_24,z4vmfse_25]"><div class="tabs__content" data-gtm="tab" id="z4vmfse_23" data-title="官网下载"><div class="code-block" data-lang="bash" data-title="Shell">
wget https://download.docker.com/linux/static/stable/x86_64/docker-27.3.1.tgz
</div></div><div class="tabs__content" data-gtm="tab" id="z4vmfse_24" data-title="清华镜像站下载"><div class="code-block" data-lang="bash" data-title="Shell">
wget https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/static/stable/x86_64/docker-27.3.1.tgz
</div></div><div class="tabs__content" data-gtm="tab" id="z4vmfse_25" data-title="IntelliJ镜像站下载"><div class="code-block" data-lang="bash" data-title="Shell">
wget https://docker.intellij.tech/container/docker-ce/linux/static/stable/x86_64/docker-27.3.1.tgz
</div></div></div></section><section class="chapter"><h3 id="z4vmfse_18" data-toc="z4vmfse_18">解压并移动</h3><div class="code-block" data-lang="bash">
tar zxvf docker-27.3.1.tgz
</div><div class="code-block" data-lang="bash">
mv docker/* /usr/bin
</div></section></section><section class="chapter"><h2 id="linux-group" data-toc="linux-group">linux新增group</h2><div class="code-block" data-lang="bash">
groupadd docker
</div></section><section class="chapter"><h2 id="systemd" data-toc="systemd">配置 systemd</h2><aside class="prompt" data-type="note" data-title="" id="z4vmfse_32"><p id="z4vmfse_36">注意<code class="code" id="z4vmfse_37">systemd</code>中<code class="code" id="z4vmfse_38">ExecStart</code>的启动路径，都在<code class="code" id="z4vmfse_39">/usr/bin</code>下，和github上的不一致</p></aside><section class="chapter"><h3 id="docker-service" data-toc="docker-service">docker.service</h3><div class="code-block" data-lang="bash">
vim /usr/lib/systemd/system/docker.service
</div><aside class="prompt" data-type="note" data-title="" id="z4vmfse_41"><p id="z4vmfse_43">注意: <code class="code" id="z4vmfse_44">docker.service</code> 依赖 <code class="code" id="z4vmfse_45">containerd.service</code> 和 <code class="code" id="z4vmfse_46">docker.socket</code></p></aside><div class="code-block" data-lang="bash">
[Unit]
Description=Docker Application Container Engine
Documentation=https://docs.docker.com
After=network-online.target docker.socket firewalld.service containerd.service time-set.target
Wants=network-online.target containerd.service
Requires=docker.socket

[Service]
Type=notify
# the default is not to use systemd for cgroups because the delegate issues still
# exists and systemd currently does not support the cgroup feature set required
# for containers run by docker
ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock
ExecReload=/bin/kill -s HUP $MAINPID
TimeoutStartSec=0
RestartSec=2
Restart=always

# Note that StartLimit* options were moved from &quot;Service&quot; to &quot;Unit&quot; in systemd 229.
# Both the old, and new location are accepted by systemd 229 and up, so using the old location
# to make them work for either version of systemd.
StartLimitBurst=3

# Note that StartLimitInterval was renamed to StartLimitIntervalSec in systemd 230.
# Both the old, and new name are accepted by systemd 230 and up, so using the old name to make
# this option work for either version of systemd.
StartLimitInterval=60s

# Having non-zero Limit*s causes performance problems due to accounting overhead
# in the kernel. We recommend using cgroups to do container-local accounting.
LimitNPROC=infinity
LimitCORE=infinity

# Comment TasksMax if your systemd version does not support it.
# Only systemd 226 and above support this option.
TasksMax=infinity

# set delegate yes so that systemd does not reset the cgroups of docker containers
Delegate=yes

# kill only the docker process, not all processes in the cgroup
KillMode=process
OOMScoreAdjust=-500

[Install]
WantedBy=multi-user.target
</div></section><section class="chapter"><h3 id="docker-socket" data-toc="docker-socket">docker.socket</h3><div class="code-block" data-lang="bash">
vim /usr/lib/systemd/system/docker.socket
</div><div class="code-block" data-lang="bash">
[Unit]
Description=Docker Socket for the API

[Socket]
# If /var/run is not implemented as a symlink to /run, you may need to
# specify ListenStream=/var/run/docker.sock instead.
ListenStream=/run/docker.sock
SocketMode=0660
SocketUser=root
SocketGroup=docker

[Install]
WantedBy=sockets.target
</div></section><section class="chapter"><h3 id="containerd-servcie" data-toc="containerd-servcie">containerd.servcie</h3><div class="code-block" data-lang="bash">
vim /usr/lib/systemd/system/containerd.servcie
</div><div class="code-block" data-lang="bash">
# Copyright The containerd Authors.
#
# Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

[Unit]
Description=containerd container runtime
Documentation=https://containerd.io
After=network.target local-fs.target

[Service]
ExecStartPre=-/sbin/modprobe overlay
# ExecStart=/usr/local/bin/containerd
ExecStart=/usr/bin/containerd

Type=notify
Delegate=yes
KillMode=process
Restart=always
RestartSec=5

# Having non-zero Limit*s causes performance problems due to accounting overhead
# in the kernel. We recommend using cgroups to do container-local accounting.
LimitNPROC=infinity
LimitCORE=infinity

# Comment TasksMax if your systemd version does not supports it.
# Only systemd 226 and above support this version.
TasksMax=infinity
OOMScoreAdjust=-999

[Install]
WantedBy=multi-user.target
</div></section></section><section class="chapter"><h2 id="z4vmfse_9" data-toc="z4vmfse_9">启动</h2><div class="code-block" data-lang="bash">
systemctl daemon-reload
</div><div class="code-block" data-lang="bash">
systemctl start docker
</div></section><section class="chapter"><h2 id="systemd-github" data-toc="systemd-github">systemd文件github参考</h2><p id="z4vmfse_53"><a href="https://github.com/moby/moby/blob/master/contrib/init/systemd/docker.service" id="z4vmfse_56" data-external="true" rel="noopener noreferrer" target="_blank">docker.service</a></p><p id="z4vmfse_54"><a href="https://github.com/moby/moby/blob/master/contrib/init/systemd/docker.socket" id="z4vmfse_57" data-external="true" rel="noopener noreferrer" target="_blank">docker.socket</a></p><p id="z4vmfse_55"><a href="https://github.com/containerd/containerd/blob/main/containerd.service" id="z4vmfse_58" data-external="true" rel="noopener noreferrer" target="_blank">containerd.service</a></p></section><div class="last-modified">11 September 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="docker-install.html" class="navigation-links__prev">Install Docker</a><a href="docker-config.html" class="navigation-links__next">Docker Daemon Configuration</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>