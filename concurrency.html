<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF" data-link-color="#307FFF" data-content-max-width="1300" data-resizable-sidebar="true" data-sidebar-width="300"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-09-10T07:42:57.75028564"><title>concurrency | Mind and Hand</title><script type="application/json" id="virtual-toc-data">[{"id":"ht5qac_5","level":0,"title":"如何形象地理解并发","anchor":"#ht5qac_5"},{"id":"ht5qac_16","level":1,"title":"不同角度理解","anchor":"#ht5qac_16"},{"id":"ht5qac_17","level":1,"title":"并发的设计思路","anchor":"#ht5qac_17"},{"id":"ht5qac_18","level":1,"title":"一些思考","anchor":"#ht5qac_18"},{"id":"ht5qac_6","level":0,"title":"行为上从前到后","anchor":"#ht5qac_6"},{"id":"ht5qac_40","level":1,"title":"生产者消费者模式","anchor":"#ht5qac_40"},{"id":"reactor","level":1,"title":"从生产者消费者到 Reactor","anchor":"#reactor"},{"id":"ht5qac_7","level":0,"title":"结果上从后到前","anchor":"#ht5qac_7"},{"id":"fork-join","level":1,"title":"分治思想 (fork/join)","anchor":"#fork-join"},{"id":"ht5qac_64","level":1,"title":"正确地累加","anchor":"#ht5qac_64"},{"id":"go","level":0,"title":"Go中的思想","anchor":"#go"},{"id":"ht5qac_9","level":0,"title":"设计的思考","anchor":"#ht5qac_9"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link href="static/custom.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="concurrency | Mind and Hand"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Mind and Hand Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/concurrency.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="concurrency | Mind and Hand"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/concurrency.html#webpage",
    "url": "writerside-documentation/concurrency.html",
    "name": "concurrency | Mind and Hand",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Mind and Hand Help"
}</script><!-- End Schema.org --></head><body data-id="concurrency" data-main-title="concurrency" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="thinking.md|thinking"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Mind and Hand  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="concurrency" id="concurrency.md">concurrency</h1><aside class="prompt" data-type="tip" data-title="" id="ht5qac_4"><p id="ht5qac_10">并发的设计与哲学思考</p></aside><section class="chapter"><h2 id="ht5qac_5" data-toc="ht5qac_5">如何形象地理解并发</h2><p id="ht5qac_11">从人的行为角度来看，理解并发最简易的思维就是<span class="control" id="ht5qac_19">多个人做同一件事</span>。</p><p id="ht5qac_12">第一次思考包含的三个关键点</p><ul class="list _bullet" id="ht5qac_13"><li class="list__item" id="ht5qac_20"><p id="ht5qac_23">多个人</p></li><li class="list__item" id="ht5qac_21"><p id="ht5qac_24">动作 (做)</p></li><li class="list__item" id="ht5qac_22"><p id="ht5qac_25">内容 (同一件事)</p></li></ul><p id="ht5qac_14">深入思考，本质上只包含两个点</p><ul class="list _bullet" id="ht5qac_15"><li class="list__item" id="ht5qac_26"><p id="ht5qac_28">多个人</p></li><li class="list__item" id="ht5qac_27"><p id="ht5qac_29">动作 （动作的执行已经包含的了执行的内容）</p></li></ul><section class="chapter"><h3 id="ht5qac_16" data-toc="ht5qac_16">不同角度理解</h3><p id="ht5qac_30">从行为上看，虽然是多个人，但是动作的逻辑往往是相同的。</p><p id="ht5qac_31">从结果上看，期望所要做的事的结果是正确的。</p></section><section class="chapter"><h3 id="ht5qac_17" data-toc="ht5qac_17">并发的设计思路</h3><p id="ht5qac_32">从不同角度的理解的结论，一个并发系统的整体设计，一般有两种思路</p><ul class="list _bullet" id="ht5qac_33"><li class="list__item" id="ht5qac_35"><p id="ht5qac_37">从行为上，从前到后设计</p></li><li class="list__item" id="ht5qac_36"><p id="ht5qac_38">从结果上，从后到前设计</p></li></ul><p id="ht5qac_34">并发系统并不是一个单一过程，所以最终在设计落地的时候，要结合设计</p></section><section class="chapter"><h3 id="ht5qac_18" data-toc="ht5qac_18">一些思考</h3><p id="ht5qac_39">为什么软件开发中会存在并发？并发是为了让资源充分的利用。</p></section></section><section class="chapter"><h2 id="ht5qac_6" data-toc="ht5qac_6">行为上从前到后</h2><section class="chapter"><h3 id="ht5qac_40" data-toc="ht5qac_40">生产者消费者模式</h3><ul class="list _bullet" id="ht5qac_42"><li class="list__item" id="ht5qac_43"><p id="ht5qac_46">一边负责生产</p></li><li class="list__item" id="ht5qac_44"><p id="ht5qac_47">一边负责消费</p></li><li class="list__item" id="ht5qac_45"><p id="ht5qac_48">关键点是数据交互的方式</p><ul class="list _bullet" id="ht5qac_49"><li class="list__item" id="ht5qac_50"><p id="ht5qac_52">生产者生产的数据如何给到消费者</p></li><li class="list__item" id="ht5qac_51"><p id="ht5qac_53">因此：消费也能分为主动消费，被动消费</p><ul class="list _bullet" id="ht5qac_54"><li class="list__item" id="ht5qac_55"><p id="ht5qac_57">主动消费是消费者主动拿到数据。生产者的生产数据和消费者中间存在数据通道</p></li><li class="list__item" id="ht5qac_56"><p id="ht5qac_58">被动消费是消费者提供消费的逻辑。生产者的生产数据后调度分配到消费上</p></li></ul></li></ul></li></ul></section><section class="chapter"><h3 id="reactor" data-toc="reactor">从生产者消费者到 Reactor</h3><p id="ht5qac_59">netty在<code class="code" id="ht5qac_61">Selector</code>上的设计就是一种被动消费的设计</p><p id="ht5qac_60">netty在<code class="code" id="ht5qac_62">EventLoop</code>上又是一种主动消费的设计</p></section></section><section class="chapter"><h2 id="ht5qac_7" data-toc="ht5qac_7">结果上从后到前</h2><section class="chapter"><h3 id="fork-join" data-toc="fork-join">分治思想 (fork/join)</h3><p id="ht5qac_65">例如对一组数据分开计算，合并结果。</p></section><section class="chapter"><h3 id="ht5qac_64" data-toc="ht5qac_64">正确地累加</h3><p id="ht5qac_66">AtomicInteger</p></section></section><section class="chapter"><h2 id="go" data-toc="go">Go中的思想</h2><p id="ht5qac_67">不要通过共享内存来通信</p><p id="ht5qac_68">要通过通信来共享内存</p></section><section class="chapter"><h2 id="ht5qac_9" data-toc="ht5qac_9">设计的思考</h2><p id="ht5qac_69">一个软件系统是整体的，并发系统也是一样的。</p><p id="ht5qac_70">整个并发系统设计关注的是过程的正确与高效。</p><p id="ht5qac_71">行为上的设计有时候也包含着结果上的设计，因为行为的过程是包含中间结果的。</p></section><div class="last-modified">10 September 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="design-pattern.html" class="navigation-links__prev">design pattern</a><a href="standard.html" class="navigation-links__next">standard</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>